@import colors

.post-container
    .post-content.transparency-grid img
        background-image:
            linear-gradient(45deg, $transparency-grid-square-color 25%, transparent 25%),
            linear-gradient(-45deg, $transparency-grid-square-color 25%, transparent 25%),
            linear-gradient(45deg, transparent 75%, $transparency-grid-square-color 75%),
            linear-gradient(-45deg, transparent 75%, $transparency-grid-square-color 75%)
        background-size: 20px 20px
        background-position: 0 0, 0 10px, 10px -10px, -10px 0px

    text-align: center
    .post-content
        text-align: left
        margin: 0 auto
        position: relative

        .resize-listener
            position: absolute
            left: 0
            right: 0
            top: 0
            bottom: 0
            width: 100%
            height: 100%

        img
            image-orientation: from-image

            // Fix blurry downscaling in chrome.
            // See: https://stackoverflow.com/questions/37906602/blurry-downscaled-images-in-chrome
            // Could also implement this using JS `var isChrome = !!window.chrome;`, which might not need the safari css hack.
            // 1. Applies to chrome and safari
            @media screen and (-webkit-min-device-pixel-ratio:0) and (min-resolution:.001dpcm)
                image-rendering: -webkit-optimize-contrast
            // 2. Unset for safari, because it has different behavior in safari.
            @media not all and (min-resolution:.001dpcm)
                @supports (-webkit-appearance:none) and (stroke-color:transparent)
                    image-rendering: unset !important;
